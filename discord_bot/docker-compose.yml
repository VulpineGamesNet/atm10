services:
  discord-bot:
    build: .
    container_name: minecraft-discord-bot
    restart: unless-stopped
    env_file:
      - .env
    volumes:
      # Mount server stats directory from Minecraft server
      # Adjust the path to match your Minecraft server location
      - /path/to/minecraft/kubejs/server_data:/app/server_data:ro
    # For connecting to Minecraft RCON on host machine
    # Option 1: Use host network mode (simplest for same-machine setup)
    # network_mode: host
    #
    # Option 2: Use extra_hosts to access host (Docker Desktop on Mac/Windows)
    extra_hosts:
      - "host.docker.internal:host-gateway"
    # Note: Set RCON_HOST in .env to:
    # - "localhost" if using network_mode: host
    # - "host.docker.internal" if using extra_hosts
    # - The actual IP/hostname if running on different machine
